<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zanon SeaFish – v8-slim FIX</title>
<style>
:root{--brand:#1aa34a;}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;margin:0;background:#f7f7f9;color:#111;}
.header{position:sticky;top:0;z-index:10;background:#fff;border-bottom:1px solid #e5e7eb;padding:10px 12px;display:flex;gap:8px;align-items:center;}
.logo{font-weight:700;color:var(--brand);letter-spacing:.2px}
.search{flex:1;display:flex;gap:8px}
.search input{flex:1;padding:10px 12px;border:1px solid #d1d5db;border-radius:10px;outline:none}
.search input::placeholder{color:#15803d}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:10px;padding:12px;align-items:stretch}
.item{border:1px solid #e5e7eb;border-radius:14px;overflow:hidden;background:rgba(26,163,74,0.06);display:flex;flex-direction:column;cursor:pointer;transition:transform .08s ease}
.item:hover{transform:translateY(-2px)}
.thumb{aspect-ratio:1/1;display:grid;place-items:center;background:#fff}
.thumb img{width:100%;height:100%;object-fit:cover}
.info{padding:10px;display:flex;flex-direction:column;gap:6px}
.title{font-size:15px;line-height:1.2;margin:0}
.desc{font-size:12px;color:#374151;line-height:1.35;margin:0}
.price{margin-top:auto;text-align:right;font-weight:700;color:#111}
.badge{font-size:11px;color:#15803d}
/* Modal */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;padding:16px}
.modal.active{display:flex}
.sheet{max-width:900px;width:100%;background:#fff;border-radius:16px;overflow:hidden;display:grid;grid-template-columns:1fr 1fr;min-height:420px}
@media(max-width:800px){.sheet{grid-template-columns:1fr}}
.sheet .g{background:#0001;display:grid;place-items:center}
.sheet .g img{width:100%;height:100%;object-fit:cover}
.sheet .c{padding:16px;display:flex;flex-direction:column;gap:10px}
.actions{margin-top:auto;display:flex;gap:8px;justify-content:flex-end}
.btn{padding:10px 12px;border-radius:10px;border:1px solid #d1d5db;background:#fff;cursor:pointer}
.btn.primary{background:var(--brand);border-color:var(--brand);color:#fff}
</style>
</head>
<body>
  <div class="header">
    <div class="logo">Zanon SeaFish</div>
    <div class="search">
      <input id="q" placeholder="Cerca articoli..." />
    </div>
  </div>
  <div id="grid" class="grid"></div>

  <div id="modal" class="modal" role="dialog" aria-modal="true">
    <div class="sheet">
      <div class="g"><img id="mImg" alt=""/></div>
      <div class="c">
        <h2 id="mTitle" class="title"></h2>
        <div class="badge" id="mId"></div>
        <p id="mDesc" class="desc"></p>
        <p id="mFull" class="desc"></p>
        <div class="price" id="mPrice"></div>
        <div class="actions">
          <button class="btn" id="closeBtn">Chiudi</button>
          <button class="btn primary" id="shareBtn">Condividi</button>
        </div>
      </div>
    </div>
  </div>

<script>
const PRODUCTS = [{"id":"tonno-corallo","name":"Tonno Corallo in busta","price":7.5,"shortDesc":"Tonno Corallo all'olio di semi di girasole, confezione da 1 kilo","fullDesc":"","images":["images/tonno-corallo.jpg"]},{"id":"acciughe-filetti-riunione","name":"Filetti di alici del Cantabrico","price":2.8,"shortDesc":",","fullDesc":"Filetti di alici Riunione selezionati e sott’olio. Ideali per antipasti, pizze e insalate.","images":["images/acciughe-filetti-riunione.jpg"]},{"id":"acciughe-filetti","name":"Filetti di alici Corallo","price":11.6,"shortDesc":"Alici filetti, confezione da 720gr","fullDesc":"Filetti di alici lavorati a regola d’arte, gusto intenso e pulito.","images":["images/acciughe-filetti.jpg"]},{"id":"alici-colatura","name":"Alici Colatura","price":6.2,"shortDesc":"Alici colatura, confezione da 100ml","fullDesc":"Condimento tradizionale a base di alici. Perfetto su spaghetti, verdure e crostini.","images":["images/alici-colatura.jpg"]},{"id":"alici-filetti","name":"Alici Filetti","price":12.5,"shortDesc":"Alici filetti, confezione da 720gr","fullDesc":"Filetti di alici dal sapore equilibrato. Ottimi per ricette fredde e calde.","images":["images/alici-filetti.jpg"]},{"id":"alici-filetto","name":"Filetto di alici marinate","price":12.2,"shortDesc":"Filetto di alici al pepe rosa in olio di semi di girasole, confezione da 1 kilo","fullDesc":"Filetto singolo di alici, comodo per porzioni precise e guarnizioni.","images":["images/alici-filetto.jpg"]},{"id":"alici-pezzi","name":"Alici Pezzi","price":9.5,"shortDesc":"Alici pezzi, confezione da 720gr","fullDesc":"Pezzi di alici pratici per insalate, paste e focacce.","images":["images/alici-pezzi.jpg"]},{"id":"aringa-affumicata","name":"Filetto Sgombro aff.to al pepe","price":5.4,"shortDesc":"Filetto di sgombro, confezione da 200gr","fullDesc":"Filetto di sgombro affumicato a caldo. Aroma deciso, texture morbida.","images":["images/aringa-affumicata.jpg"]},{"id":"baccala-condito-200","name":"Baccalà Condito 200g","price":6.5,"shortDesc":"Baccalà condito, confezione da 200 g","fullDesc":"Baccalà già condito. Pronto all’uso per crostini o secondi rapidi.","images":["images/baccala-condito-200.jpg"]},{"id":"baccala-umido-150","name":"Baccalà Umido 150g","price":5.5,"shortDesc":"Baccalà in umido, confezione da 150 g","fullDesc":"Preparazione in umido dal sapore ricco. Da scaldare e servire.","images":["images/baccala-umido-150.jpg"]},{"id":"baccala-vicentina-1","name":"Baccalà alla Vicentina","price":25.5,"shortDesc":"Baccalà alla vicentina, confezione da 1 kilo","fullDesc":"Ricetta tradizionale alla vicentina. Cottura lenta e gusto autentico.","images":["images/baccala-vicentina-1.jpg"]},{"id":"baccala-vicentina-200","name":"Baccalà alla Vicentina 200g","price":6.5,"shortDesc":"Baccalà alla vicentina, confezione da 200 g","fullDesc":"Porzione da 200 g della nostra vicentina. Pronta da servire.","images":["images/baccala-vicentina-200.jpg"]},{"id":"bottarga-muggine","name":"Bottarga di Muggine","price":72.0,"shortDesc":"Bottarga di muggine affumicata confezione da 50/70gr","fullDesc":"Bottarga stagionata, ideale grattugiata su pasta e risotti.","images":["images/bottarga-muggine.jpg"]},{"id":"bottarga-tonno","name":"Bottarga di Tonno","price":79.0,"shortDesc":"Bottarga di tonno affumicata confezione da 50/100 gr","fullDesc":"Bottarga di tonno dal sapore pieno. Per ricette gourmet.","images":["images/bottarga-tonno.jpg"]},{"id":"Caviale Classic Select","name":"Caviale Classic Select","price":98.0,"shortDesc":"Caviale Iran Darya, Acipenser Baerii confezione da 100gr","fullDesc":"Selezione pregiata. Per degustazioni e abbinamenti raffinati.","images":["images/caviale-iran-darya.jpg"]},{"id":"Caviale Royalpop","name":"Caviale Royalpop","price":11.5,"shortDesc":"Acipenser Trasmontanus, confezione da 10 gr","fullDesc":"Perle di caviale selezionate. Profilo aromatico complesso.","images":["images/caviale-royalpop.jpg"]},{"id":"dentice-crema-200","name":"Dentice Crema 200g","price":7.5,"shortDesc":"Dentice crema, confezione da 200 g","fullDesc":"Crema spalmabile di dentice. Perfetta per antipasti veloci.","images":["images/dentice-crema-200.jpg"]},{"id":"dentice-crema-500","name":"Dentice Crema 500g","price":15.8,"shortDesc":"Dentice crema, confezione da 500 g","fullDesc":"Formato famiglia della crema di dentice. Rende fino a 10 tartine.","images":["images/dentice-crema-500.jpg"]},{"id":"nero-seppia","name":"Nero di Seppia","price":11.2,"shortDesc":"Nero di seppia, confezione da 500gr","fullDesc":"Classico per risotti e paste al nero. Colore intenso, sapore di mare.","images":["images/nero-seppia.jpg"]},{"id":"polpa-granchio","name":"Polpa di Granchio","price":8.0,"shortDesc":"Polpa di granchio, confezione da 170gr","fullDesc":"Polpa pronta per insalate di mare, paste fredde e sushi rolls.","images":["images/polpa-granchio.jpg"]},{"id":"polpa-riccio-riunione","name":"Polpa di Riccio Riunione","price":8.5,"shortDesc":"Polpa di riccio Riunione, confezione da 90gr","fullDesc":"Gusto marino deciso. Ideale emulsionata con olio per condire pasta.","images":["images/polpa-riccio-riunione.jpg"]},{"id":"polpa-riccio","name":"Polpa di Riccio","price":11.0,"shortDesc":"Polpa di riccio, confezione da 70gr","fullDesc":"Polpa pura per ricette mediterranee dal sapore intenso.","images":["images/polpa-riccio.jpg"]},{"id":"salmone-intero-norv","name":"Salmone Preaffettato Norvegese","price":22.5,"shortDesc":"Salmone preaffettato norvegese, confezione circa 1 kg","fullDesc":"Salmone preafettato selezionato. Adatto a cotture al forno o affumicatura.","images":["images/salmone-intero-norv.jpg"]},{"id":"salmone-preaff-norv","name":"Salmone Preaffettato Norvegese","price":6.5,"shortDesc":"Salmone preaffettato norvegese, confezione da 200gr","fullDesc":"Fette regolari pronte al servizio. Perfette per antipasti e bagel.","images":["images/salmone-preaff-norv.jpg"]},{"id":"stoccafisso-salato","name":"Filetto di ling salinato","price":10.8,"shortDesc":"Stoccafisso salato da 1 kilo","fullDesc":"Stoccafisso di qualità. Da ammollare e cucinare secondo ricetta.","images":["images/stoccafisso-salato.jpg"]},{"id":"stoccafisso-secco","name":"Stoccafisso Secco","price":43.0,"shortDesc":"Stoccafisso essiccato","fullDesc":"Essiccazione naturale. Base per piatti tipici del nord Europa.","images":["images/stoccafisso-secco.jpg"]},{"id":"tonno-corallo","name":"Tonno Corallo in lattina","price":10.6,"shortDesc":"Tonno Corallo, confezione da 1730gr","fullDesc":"Tranci in olio. Consistenza compatta, gusto pieno.","images":["images/tonno-corallo2.jpg"]},{"id":"tonno-filetti-acantilado","name":"Tonno Filetti Acantilado","price":18.0,"shortDesc":"Filetti di tonno Acantilado, confezione da 850gr","fullDesc":"Filetti selezionati. Buoni da soli o in insalate ricche.","images":["images/tonno-filetti-acantilado.jpg"]},{"id":"tonno-filetti-albatros","name":"Tonno Filetti Albatros","price":4.1,"shortDesc":"Filetti di tonno Albatros, confezione da 190gr","fullDesc":"Filetti sodi e saporiti. Versatili per molte preparazioni.","images":["images/tonno-filetto-albatros.jpg"]},{"id":"tonno-filone-albaladejo","name":"Tonno Filone Albaladejo","price":18.8,"shortDesc":"Tonno filone Albaladejo","fullDesc":"Filone di tonno per taglio fresco o tranci. Alta resa.","images":["images/tonno-filone-albaladejo.jpg"]},{"id":"tonno-filone-atm","name":"Tonno Filone ATM","price":20.5,"shortDesc":"Tonno filone ATM","fullDesc":"Filone confezionato in ATM per migliore conservazione.","images":["images/tonno-filone-atm.jpg"]},{"id":"uova-aringa","name":"Uova di Aringa","price":10.5,"shortDesc":"Uova di aringa, confezione da 55gr","fullDesc":"Per tartine e sushi. Grana fine, sapore affumicato leggero.","images":["images/uova-aringa.jpg"]},{"id":"uova-lompo","name":"Uova di Lompo","price":2.8,"shortDesc":"Uova di lompo, confezione da 50gr","fullDesc":"Classiche per decorazioni e finger food. Colore brillante.","images":["images/uova-lompo.jpg"]},{"id":"uova-salmone","name":"Uova di Salmone","price":10.3,"shortDesc":"Uova di salmone, confezione da 50gr","fullDesc":"Uova corpose dal gusto delicato. Perfette su blinis e avocado toast.","images":["images/uova-salmone.jpg"]}];

const grid = document.getElementById("grid");
const q = document.getElementById("q");
const modal = document.getElementById("modal");
const mImg = document.getElementById("mImg");
const mTitle = document.getElementById("mTitle");
const mId = document.getElementById("mId");
const mDesc = document.getElementById("mDesc");
const mFull = document.getElementById("mFull");
const mPrice = document.getElementById("mPrice");
const shareBtn = document.getElementById("shareBtn");
const closeBtn = document.getElementById("closeBtn");

function card(p){
  return `<div class="item" data-id="${p.id}">
    <div class="thumb"><img src="${(p.images&&p.images[0])||'images/default.png'}" alt="${p.name}" onerror="this.src='images/default.png'"/></div>
    <div class="info">
      <h3 class="title">${p.name}</h3>
      <p class="desc">${p.shortDesc||''}</p>
      <div class="price">${p.price? p.price.toFixed(2).replace('.',',')+' €' : ''}</div>
    </div>
  </div>`;
}

function render(list){
  grid.innerHTML = list.map(card).join("");
  [...grid.children].forEach(el=>{
    el.onclick = ()=>openModal(el.getAttribute("data-id"));
  });
}

function openModal(id){
  const p = PRODUCTS.find(x=>x.id===id);
  if(!p) return;
  mImg.src = (p.images&&p.images[0])||'images/default.png';
  mTitle.textContent = p.name;
  mId.textContent = '#'+p.id;
  mDesc.textContent = p.shortDesc||'';
  mFull.textContent = p.fullDesc||'';
  mPrice.textContent = p.price? p.price.toFixed(2).replace('.',',')+' €' : '';
  modal.classList.add("active");
  shareBtn.onclick = async ()=>{
    const url = location.href.split('#')[0] + '#'+encodeURIComponent(p.id);
    if (navigator.share){
      try{ await navigator.share({title:p.name,text:p.shortDesc||'',url}); }catch(e){}
    } else {
      navigator.clipboard && navigator.clipboard.writeText(url);
      alert("Link copiato negli appunti");
    }
  };
}
closeBtn.onclick = ()=>modal.classList.remove("active");
modal.onclick = (e)=>{ if(e.target===modal) modal.classList.remove("active"); };

function search(qs){
  const t = qs.trim().toLowerCase();
  if(!t) return PRODUCTS;
  return PRODUCTS.filter(p=>
    p.name.toLowerCase().includes(t) ||
    (p.shortDesc||'').toLowerCase().includes(t) ||
    (p.fullDesc||'').toLowerCase().includes(t));
}

q.oninput = ()=>render(search(q.value));

// Initial render
render(PRODUCTS);

// Deep-link open by hash
if(location.hash){
  const id = decodeURIComponent(location.hash.slice(1));
  setTimeout(()=>openModal(id), 300);
}
</script>
</body>
</html>
