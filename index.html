<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Catalogo Prodotti ZANON SEAFISH</title>
  <style>
    body{font-family:Arial,sans-serif;margin:0;padding:0;background:#f4f4f4}
    header{
      background:#222;color:#fff;padding:15px;text-align:center;
      position:relative
    }
    header h1{margin:8px 0 0;font-weight:700}
    .search{position:absolute;top:12px;right:12px}
    .search input{
      width:260px;max-width:45vw;padding:8px 10px;
      border-radius:6px;border:1px solid #ccc
    }
    .contact{position:absolute;top:12px;left:12px}
    .contact a{
      background:#28a745;color:#fff;padding:8px 14px;
      text-decoration:none;border-radius:6px;font-weight:bold;
      display:inline-flex;align-items:center;gap:6px;
      box-shadow:0 2px 6px rgba(0,0,0,.2)
    }
    .muted{color:#ccc}
    .container{max-width:1200px;margin:20px auto;padding:0 15px}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px}
    .card{
      position:relative;background:#fff;border:1px solid #ddd;border-radius:8px;
      box-shadow:0 0 8px rgba(0,0,0,.1);
      overflow:hidden;cursor:pointer;transition:transform .18s ease, box-shadow .18s ease
    }
    .card:hover{transform:scale(1.02);box-shadow:0 6px 14px rgba(0,0,0,.2)}
    .card img{width:100%;height:180px;object-fit:cover;display:block}
    .card-body{padding:15px}
    .title{font-weight:bold;margin:0 0 10px}
    .price{color:#28a745;font-weight:bold;margin:10px 0}
    footer{
      margin-top:30px;padding:16px;text-align:center;
      color:#777;background:#f4f4f4;border-top:1px solid #ddd
    }
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center;padding:20px}
    .modal.open{display:flex}
    .modal-content{
      background:#fff;border-radius:8px;max-width:800px;width:100%;padding:20px;position:relative;
      max-height:90vh;overflow:auto;box-shadow:0 10px 24px rgba(0,0,0,.35)
    }
    .modal-content img{width:100%;object-fit:contain;display:block;margin:0 auto 15px}
    .close{position:absolute;top:10px;right:10px;border:none;background:#eee;border-radius:6px;padding:6px 10px;cursor:pointer}
@media (max-width: 640px){
  header{padding:10px 12px 20px}
  .contact,.search{position:static;margin:6px 0;text-align:center}
  .search input{width:100%;max-width:none}
  header img{height:60px !important;margin:6px auto 8px !important}
  header h1{font-size:1.4rem;line-height:1.2}
}
  </style>
</head>
<body>
  <header>
    <div class="contact">
      <a href="https://www.zanonseafish.it/contatti/" target="_blank" rel="noopener">✉️ Contattaci</a>
    </div>
    <div class="search">
      <input type="text" id="searchBox" placeholder="Cerca prodotti...">
    </div>
    <img src="images/logo.png" alt="Zanon Seafish Ingros SRL"
         style="height:80px;display:block;margin:0 auto 10px"
         onerror="this.onerror=null;this.src='images/default.png';">
    <h1>Catalogo Prodotti</h1>
    <div id="count" class="muted" style="margin-top:6px"></div>
  </header>

  <div class="container">
    <div id="grid" class="grid"></div>
  </div>
  <footer>© 2025 Catalogo Prodotti ZANON SEAFISH</footer>

  <div id="modal" class="modal">
    <div class="modal-content">
      <button id="closeBtn" class="close">Chiudi</button>
      <h2 id="mTitle"></h2>
      <div id="mGallery"></div>
      <p id="mDesc"></p>
      <p id="mDescFull"></p>
      <p id="mPrice" class="price"></p>
    </div>
  </div>

  <script>
  const PRODUCTS = [
    { id:"acciughe-filetti-riunione", name:"Acciughe Filetti Riunione", price:6.20,
      shortDesc:"Acciughe filetti Riunione, confezione",
      fullDesc:"Acciughe filetti Riunione di alta qualità, conservate in olio, ideali per antipasti e ricette tradizionali.",
      images:["images/acciughe-filetti-riunione.jpg"] },
    { id:"acciughe-filetti", name:"Acciughe Filetti", price:5.90,
      shortDesc:"Acciughe filetti, confezione",
      fullDesc:"Acciughe selezionate, lavorate con cura per mantenere intatto il sapore mediterraneo.",
      images:["images/acciughe-filetti.jpg"] },
    { id:"alici-colatura", name:"Alici Colatura", price:8.00,
      shortDesc:"Alici colatura, confezione",
      fullDesc:"Colatura di alici tradizionale, un condimento pregiato tipico della Costiera Amalfitana.",
      images:["images/alici-colatura.jpg"] }
    // ... continua con tutti gli altri prodotti come da lista originale,
    // aggiungendo `fullDesc` più esteso oltre a shortDesc
  ];

  const grid = document.getElementById("grid");
  const count = document.getElementById("count");
  const q = document.getElementById("searchBox");

  function cardTemplate(p){
    return `
      <div class="card" onclick="openModal('${p.id}')">
        <img src="${p.images[0]}" alt="${p.name}"
             onerror="this.onerror=null;this.src='images/default.png';">
        <div class="card-body">
          <div class="title">${p.name}</div>
          <div>${p.shortDesc}</div>
          <div class="price">€${p.price.toFixed(2)}</div>
        </div>
      </div>`;
  }

  function render(list = PRODUCTS){
    grid.innerHTML = list.map(cardTemplate).join("");
    count.textContent = list.length===PRODUCTS.length ? `${list.length} prodotti` : `${list.length} risultati`;
  }

  function openModal(id){
    const p = PRODUCTS.find(x => x.id === id);
    if(!p) return;
    document.getElementById("mTitle").textContent = p.name;
    document.getElementById("mDesc").textContent = p.shortDesc;
    document.getElementById("mDescFull").textContent = p.fullDesc || "";
    document.getElementById("mPrice").textContent = "€" + p.price.toFixed(2);
    document.getElementById("mGallery").innerHTML = p.images.map(src =>
      `<img src="${src}" alt="${p.name}" onerror="this.onerror=null;this.src='images/default.png';">`
    ).join("");
    document.getElementById("modal").classList.add("open");
  }

  document.getElementById("closeBtn").onclick = () =>
    document.getElementById("modal").classList.remove("open");

  q.addEventListener("input", () => {
    const term = q.value.trim().toLowerCase();
    if(!term){ render(PRODUCTS); return; }
    const res = PRODUCTS.filter(p => {
      const hay = [
        p.name || "",
        p.shortDesc || "",
        p.fullDesc || "",
        ...(p.images||[]).map(x => x.split('/').pop() || "")
      ].join(" ").toLowerCase();
      return hay.includes(term);
    });
    render(res);
  });

  render();
  </script>
</body>
</html>
